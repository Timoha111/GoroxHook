-- Gamesense-style menu for Roblox
local Menu = {}

function Menu:CreateWindow(title)
    local window = {}
    window.title = title
    window.tabs = {}

    function window:AddTab(tabName)
        local tab = {}
        tab.name = tabName
        tab.sections = {}

        function tab:AddSection(sectionName)
            local section = {}
            section.name = sectionName
            section.buttons = {}
            section.toggles = {}
            section.sliders = {}

            function section:AddButton(buttonName, callback)
                local button = {
                    name = buttonName,
                    callback = callback
                }
                table.insert(self.buttons, button)
                -- Example callback usage: button.callback()
            end

            function section:AddToggle(toggleName, default, callback)
                local toggle = {
                    name = toggleName,
                    value = default,
                    callback = callback
                }
                table.insert(self.toggles, toggle)
                -- Example callback usage: toggle.callback(toggle.value)
            end

            function section:AddSlider(sliderName, min, max, default, callback)
                local slider = {
                    name = sliderName,
                    min = min,
                    max = max,
                    value = default,
                    callback = callback
                }
                table.insert(self.sliders, slider)
                -- Example callback usage: slider.callback(slider.value)
            end

            table.insert(self.sections, section)
            return section
        end

        table.insert(self.tabs, tab)
        return tab
    end

    -- Function to display the menu (simplified for Roblox environment)
    function window:Show()
        -- This is a basic representation; in practice, you'd use Roblox GUI objects
        print("Menu: " .. self.title)
        for i, tab in ipairs(self.tabs) do
            print("Tab: " .. tab.name)
            for j, section in ipairs(tab.sections) do
                print("Section: " .. section.name)
                for k, button in ipairs(section.buttons) do
                    print("Button: " .. button.name)
                end
                for k, toggle in ipairs(section.toggles) do
                    print("Toggle: " .. toggle.name .. " - Default: " .. tostring(toggle.value))
                end
                for k, slider in ipairs(section.sliders) do
                    print("Slider: " .. slider.name .. " - Min: " .. slider.min .. ", Max: " .. slider.max .. ", Default: " .. slider.value)
                end
            end
        end
    end

    return window
end

-- Example usage:
-- local mainWindow = Menu:CreateWindow("Gamesense Menu")
-- local combatTab = mainWindow:AddTab("Combat")
-- local aimSection = combatTab:AddSection("Aimbot")
-- aimSection:AddToggle("Enable Aimbot", false, function(value) print("Aimbot: " .. tostring(value)) end)
-- aimSection:AddSlider("Aimbot FOV", 1, 360, 90, function(value) print("FOV: " .. value) end)
-- aimSection:AddButton("Save Settings", function() print("Settings saved!") end)
-- mainWindow:Show()

return Menu
